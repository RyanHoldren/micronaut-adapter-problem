import org.gradle.api.tasks.testing.logging.TestExceptionFormat

plugins {
    id "java-library"
}

tasks.withType(Test).configureEach {
    useJUnitPlatform()
    testLogging {
        exceptionFormat TestExceptionFormat.FULL
    }
}

repositories {
    mavenCentral()
}

def MICRONAUT_VERSION = "2.3.4";

dependencies {
    testAnnotationProcessor enforcedPlatform("io.micronaut:micronaut-bom:$MICRONAUT_VERSION")
    annotationProcessor enforcedPlatform("io.micronaut:micronaut-bom:$MICRONAUT_VERSION")
    implementation enforcedPlatform("io.micronaut:micronaut-bom:$MICRONAUT_VERSION")
    annotationProcessor group: "io.micronaut", name: "micronaut-inject-java"
    testAnnotationProcessor group: "io.micronaut", name: "micronaut-inject-java"
    implementation group: "io.micronaut", name: "micronaut-inject"
    implementation group: "io.micronaut", name: "micronaut-aop"
    implementation group: "javax.inject", name: "javax.inject", version: "1"
    testImplementation group: "org.junit.jupiter", name: "junit-jupiter"
    testImplementation group: "io.micronaut.test", name: "micronaut-test-junit5"
}
